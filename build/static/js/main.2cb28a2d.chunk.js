(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(6),s=a.n(n),c=(a(14),a(1)),i=a(7),l=a(3),u=a(2),d=a(4),m=(a(16),function(e){function t(e){return"small"===e?"8px":"22px"}var a={backgroundColor:function(e){switch(e[0]){case"e":return"grey";case"y":return"yellow";case"b":return"blue";case"r":return"red";case"g":return"green";case"o":return"orange";case"p":return"purple";case"v":return"violet";case"w":return"white";default:return"grey"}}(e.colorKey),height:t(e.sizeKey),width:t(e.sizeKey)};return o.a.createElement("td",{style:a})}),p={color:"white",opacity:"1"},h={marginBlockStart:"10px",marginBlockEnd:"10px",backgroundColor:"rgba(0,0,0,.8)",color:"white",fontSize:"50px",width:"90%",height:"120%",textAlign:"center",position:"absolute",top:"3%",left:"4.5%",border:"3px solid white",borderRadius:"20px",paddingTop:"5%"},f=function(e){return e.gameOver&&!e.showScores?o.a.createElement("div",{style:h},o.a.createElement("h1",{style:p},"GAME OVER"),o.a.createElement("h3",null,"Final Score: ",e.score),o.a.createElement("h4",null,"Enter Your name")):null},g={textAlign:"center",position:"Absolute",width:"20%",left:"40%",top:"100%"},v={border:"2px solid white",backgroundColor:"rgba(0,0,0,.8)",height:"50px",width:"250px",color:"white",fontSize:"30px",borderRadius:"5px",textAlign:"center"},b={height:"50px",width:"250px",fontSize:"20px",borderRadius:"5px",cursor:"pointer",border:"3px solid black"},y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={message:"Submit"},a.clickHandle=function(e){e.handleClick(),a.setState({message:"Loading...."})},a.render=function(e){return a.props.gameOver&!a.props.showScores?o.a.createElement("div",{style:g},o.a.createElement("input",{style:v,type:"text",maxLength:"13",onChange:function(e){return a.props.handleChange(e)},value:a.props.nameValue}),o.a.createElement("button",{style:b,onClick:function(){a.clickHandle(a.props)}},a.state.message)):null},a}return Object(d.a)(t,e),t}(r.Component),k={display:"inline",fontSize:"60px",marginRight:"10px",marginLeft:"25px",textAlign:"center"},S={display:"inline",fontSize:"85px",marginRight:"30px",marginLeft:"50px",textAlign:"center"},w={display:"inline",fontSize:"35px",maxWidth:"90%",marginBottom:"10px",marginTop:"10px"},E={marginTop:"0px",display:"inline",marginBottom:"15px"},x={display:"inline",margin:"auto"},B={display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",alignItems:"center"},R={border:"3px solid black",borderRadius:"20px",margin:"20px 20px",padding:"5px",backgroundColor:"white",width:"20%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignContent:"center",alignItems:"center"},P={display:"flex",flexDirection:"row",flexWrap:"wrap",padding:"50px",paddingTop:"20px"},K={textAlign:"center",marginTop:"50px",marginBottom:"20px"},C={textAlign:"center",marginBottom:"50px",fontSize:"22px"},T={border:"3px solid black",borderRadius:"20px",margin:"auto",padding:"5px",backgroundColor:"white",width:"40%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignContent:"center",alignItems:"center"},O={display:"flex",flexDirection:"row",alignItems:"center"},A={height:"350px",marginLeft:"100px",marginTop:"150px"},F={height:"350px",marginRight:"100px",marginTop:"150px"},j=function(e){function t(t,a){return o.a.createElement("tr",null,o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][0]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][1]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][2]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][3]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][4]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][5]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][6]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][7]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][8]}),o.a.createElement(m,{sizeKey:"small",colorKey:e.savedStates[a].board[t][9]}))}function a(t){var a=e.index;return o.a.createElement("tr",null,o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][0]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][1]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][2]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][3]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][4]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][5]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][6]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][7]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][8]}),o.a.createElement(m,{colorKey:e.savedStates[0].previousBoards[a][t][9]}))}function r(a,r,n){return o.a.createElement("div",{style:R},o.a.createElement("h1",{style:w},n+e.savedStates[a].name),o.a.createElement("div",{style:B},o.a.createElement("h1",{style:k},r),o.a.createElement("table",{style:x},o.a.createElement("tbody",null,t(0,a),t(1,a),t(2,a),t(3,a),t(4,a),t(5,a),t(6,a),t(7,a),t(8,a),t(9,a),t(10,a),t(11,a),t(12,a),t(13,a),t(14,a),t(15,a),t(16,a),t(17,a)))),o.a.createElement("h1",{style:E},e.savedStates[a].score," points"))}return e.showScores?o.a.createElement("div",null,o.a.createElement("h1",{style:K},"React TETRIS High Scores"),o.a.createElement("div",{style:O},o.a.createElement("img",{style:A,src:"../../laurelLeft.png"}),o.a.createElement("div",{style:T},o.a.createElement("h1",{style:w},"\ud83d\udc51 "+e.savedStates[0].name),o.a.createElement("div",{style:B},o.a.createElement("h1",{style:S},"1st"),o.a.createElement("table",{style:x},o.a.createElement("tbody",null,a(0),a(1),a(2),a(3),a(4),a(5),a(6),a(7),a(8),a(9),a(10),a(11),a(12),a(13),a(14),a(15),a(16),a(17)))),o.a.createElement("h1",{style:E},e.savedStates[0].score," points")),o.a.createElement("img",{style:F,src:"../../laurelRight.png"})),o.a.createElement("div",{style:P},r(1,"2nd",""),r(2,"3rd",""),r(3,"4th",""),r(4,"5th","")),o.a.createElement("a",{href:"./"},o.a.createElement("p",{style:C},"Play Again?"))):null},z=function(e){return e.state.showScores?null:o.a.createElement("div",{id:"content"},o.a.createElement("div",{id:"innerDiv"},o.a.createElement("h1",null,"TETRIS"),o.a.createElement("p",null,"Control pieces with W, A, S and D."),o.a.createElement("p",null,"SCORE: ",o.a.createElement("b",null,e.state.score)," SPEED: 1 tick per ",o.a.createElement("b",null,e.state.gravitySpeed)," ms"),o.a.createElement("button",{onClick:e.start},"Start"),o.a.createElement("button",{onClick:e.stop},"Stop"),o.a.createElement("button",{onClick:e.endGame},"Scores"),o.a.createElement("table",null,o.a.createElement("tbody",null,e.makeRow(0),e.makeRow(1),e.makeRow(2),e.makeRow(3),e.makeRow(4),e.makeRow(5),e.makeRow(6),e.makeRow(7),e.makeRow(8),e.makeRow(9),e.makeRow(10),e.makeRow(11),e.makeRow(12),e.makeRow(13),e.makeRow(14),e.makeRow(15),e.makeRow(16),e.makeRow(17)))))},I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={board:[["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"],["e","e","e","e","e","e","e","e","e","e"]],currentPiece:[],currentPieceName:null,currentColor:null,gameBegun:!1,stopped:!0,gameOver:!1,showScores:!1,score:0,gravitySpeed:400,rotation:1,name:"",savedStates:[],previousBoards:[],timeWarpIndex:0},a.makeRow=function(e){return o.a.createElement("tr",null,o.a.createElement(m,{colorKey:a.state.board[e][0]}),o.a.createElement(m,{colorKey:a.state.board[e][1]}),o.a.createElement(m,{colorKey:a.state.board[e][2]}),o.a.createElement(m,{colorKey:a.state.board[e][3]}),o.a.createElement(m,{colorKey:a.state.board[e][4]}),o.a.createElement(m,{colorKey:a.state.board[e][5]}),o.a.createElement(m,{colorKey:a.state.board[e][6]}),o.a.createElement(m,{colorKey:a.state.board[e][7]}),o.a.createElement(m,{colorKey:a.state.board[e][8]}),o.a.createElement(m,{colorKey:a.state.board[e][9]}))},a.keyRouter=function(e){"a"===e.key?a.moveLeft():"d"===e.key?a.moveRight():"s"===e.key?a.moveDown():"w"===e.key&&a.rotate(a.state.rotation)},a.start=function(){window.addEventListener("keypress",a.keyRouter),a.state.stopped&&(a.setState({stopped:!1}),a.controlGravity("start")),a.state.gameBegun||a.getRandomPiece()},a.stop=function(){window.removeEventListener("keypress",a.keyRouter),a.setState({stopped:!0}),a.controlGravity("stop")},a.getRandomPiece=function(){var e=Math.floor(7*Math.random())+0;a.generatePiece(["O","I","S","Z","L","J","T"][e])},a.generatePiece=function(e){a.setState({currentPieceName:e,gameBegun:!0,rotation:1}),a.clearMs(),a.checkForFullRows(),a.checkForGameOver();var t,r,o=a.state.board.map(function(e){return e.slice()});"O"===e?(r="y",t=[[0,4],[0,5],[1,4],[1,5]]):"I"===e?(r="b",t=[[0,3],[0,4],[0,5],[0,6]]):"S"===e?(r="g",t=[[0,4],[0,5],[1,3],[1,4]]):"Z"===e?(r="r",t=[[0,3],[0,4],[1,4],[1,5]]):"J"===e?(r="o",t=[[1,3],[1,4],[1,5],[0,3]]):"L"===e?(r="p",t=[[1,3],[1,4],[1,5],[0,5]]):"T"===e&&(r="v",t=[[1,3],[1,4],[1,5],[0,4]]);for(var n=0;n<t.length;n++)o[t[n][0]][t[n][1]]=r+"m";a.setState({previousBoards:a.trackBoard(o),board:o,currentPiece:t,currentColor:r},function(){a.state.gameBegun||a.setState({gameBegun:!0},function(){a.controlGravity("start")})})},a.gravity=function(){var e=!0;if((a.checkForFloor()||a.checkForBlocksBeneath())&&(a.getRandomPiece(),e=!1),e){for(var t=a.state.board.map(function(e){return e.slice()}),r=a.state.currentPiece.map(function(e){return e.slice()}),o=0;o<r.length;o++)t[r[o][0]][r[o][1]]="e";for(var n=0;n<r.length;n++)r[n][0]+1<18&&(t[r[n][0]+1][r[n][1]]=a.state.currentColor+"m");for(var s=0;s<r.length;s++)r[s][0]=r[s][0]+1;a.setState({previousBoards:a.trackBoard(t),board:t,currentPiece:r})}a.state.stopped||a.controlGravity("start")},a.controlGravity=function(e){var t;switch(e){case"start":t=setTimeout(a.gravity,a.state.gravitySpeed);break;case"stop":clearTimeout(t);break;default:console.log('ERR: called controlGravity without "stop" or "start"')}},a.checkForFloor=function(){for(var e=0;e<a.state.currentPiece.length;e++)if(!a.state.board[a.state.currentPiece[e][0]+1])return!0},a.checkForBlocksBeneath=function(){for(var e=0;e<a.state.currentPiece.length;e++)if(a.state.board[a.state.currentPiece[e][0]+1]&&"e"!==a.state.board[a.state.currentPiece[e][0]+1][a.state.currentPiece[e][1]]&&a.state.board[a.state.currentPiece[e][0]+1][a.state.currentPiece[e][1]]!==a.state.currentColor+"m")return!0},a.checkForBlocksRight=function(){for(var e=0;e<a.state.currentPiece.length;e++)if("e"!==a.state.board[a.state.currentPiece[e][0]][a.state.currentPiece[e][1]+1]&&a.state.board[a.state.currentPiece[e][0]][a.state.currentPiece[e][1]+1]!==a.state.currentColor+"m")return!0},a.checkForBlocksLeft=function(){for(var e=0;e<a.state.currentPiece.length;e++)if("e"!==a.state.board[a.state.currentPiece[e][0]][a.state.currentPiece[e][1]-1]&&a.state.board[a.state.currentPiece[e][0]][a.state.currentPiece[e][1]-1]!==a.state.currentColor+"m")return!0},a.clearMs=function(){for(var e=a.state.board.map(function(e){return e.slice()}),t=0;t<=17;t++)for(var r=0;r<=9;r++)e[t][r].includes("m")&&(e[t][r]=e[t][r].replace("m",""));a.setState({previousBoards:a.trackBoard(e),board:e})},a.checkForGameOver=function(){for(var e=a.state.board[0],t=0;t<e.length;t++)if(!e[t].includes("e")&&!e[t].includes("m"))return a.stop(),void a.gameOver()},a.gameOver=function(){a.setState({gameOver:!0}),a.stop()},a.moveLeft=function(){for(var e=!0,t=a.state.board.map(function(e){return e.slice()}),r=a.state.currentPiece.map(function(e){return e.slice()}),o=0;o<r.length;o++)t[r[o][0]][r[o][1]-1]&&!a.checkForBlocksLeft()||(e=!1);if(e){for(var n=0;n<r.length;n++)t[r[n][0]][r[n][1]]="e";for(var s=0;s<r.length;s++)t[r[s][0]][r[s][1]-1]=a.state.currentColor+"m";for(var c=0;c<r.length;c++)r[c][1]=r[c][1]-1;a.setState({previousBoards:a.trackBoard(t),board:t,currentPiece:r})}},a.moveRight=function(){for(var e=!0,t=a.state.board.map(function(e){return e.slice()}),r=a.state.currentPiece.map(function(e){return e.slice()}),o=0;o<r.length;o++)t[r[o][0]][r[o][1]+1]&&!a.checkForBlocksRight()||(e=!1);if(e){for(var n=0;n<r.length;n++)t[r[n][0]][r[n][1]]="e";for(var s=0;s<r.length;s++)t[r[s][0]][r[s][1]+1]=a.state.currentColor+"m";for(var c=0;c<r.length;c++)r[c][1]=r[c][1]+1}a.setState({previousBoards:a.trackBoard(t),board:t,currentPiece:r})},a.moveDown=function(){for(var e=!0,t=a.state.board.map(function(e){return e.slice()}),r=a.state.currentPiece.map(function(e){return e.slice()}),o=0;o<r.length;o++)t[r[o][0]+1]&&!a.checkForBlocksBeneath()||(e=!1);if(e){for(var n=0;n<r.length;n++)t[r[n][0]][r[n][1]]="e";for(var s=0;s<r.length;s++)t[r[s][0]+1][r[s][1]]=a.state.currentColor+"m";for(var c=0;c<r.length;c++)r[c][0]=r[c][0]+1}a.setState({previousBoards:a.trackBoard(t),board:t,currentPiece:r})},a.rotate=function(e){var t,r=a.state.board.map(function(e){return e.slice()}),o=a.state.currentPiece.map(function(e){return e.slice()});if("O"===a.state.currentPieceName);else if("I"===a.state.currentPieceName)switch(e){case 1:t=2,o[0][0]+=-1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=-1,o[3][0]+=2,o[3][1]+=-2;break;case 2:t=3,o[0][0]+=1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=-1,o[3][0]+=-2,o[3][1]+=-2;break;case 3:t=4,o[0][0]+=1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=1,o[3][0]+=-2,o[3][1]+=2;break;case 4:t=1,o[0][0]+=-1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=1,o[3][0]+=2,o[3][1]+=2;break;default:console.log("there was a big problem")}else if("S"===a.state.currentPieceName)switch(e){case 1:t=2,o[0][0]+=1,o[0][1]+=1,o[1][0]+=2,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=1,o[3][0]+=0,o[3][1]+=0;break;case 2:t=3,o[0][0]+=1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=-2,o[2][0]+=1,o[2][1]+=1,o[3][0]+=0,o[3][1]+=0;break;case 3:t=4,o[0][0]+=-1,o[0][1]+=-1,o[1][0]+=-2,o[1][1]+=0,o[2][0]+=1,o[2][1]+=-1,o[3][0]+=0,o[3][1]+=0;break;case 4:t=1,o[0][0]+=-1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=2,o[2][0]+=-1,o[2][1]+=-1,o[3][0]+=0,o[3][1]+=0;break;default:console.log("there was a big problem")}else if("Z"===a.state.currentPieceName)switch(e){case 1:t=2,o[0][0]+=0,o[0][1]+=2,o[1][0]+=1,o[1][1]+=1,o[2][0]+=0,o[2][1]+=0,o[3][0]+=1,o[3][1]+=-1;break;case 2:t=3,o[0][0]+=2,o[0][1]+=0,o[1][0]+=1,o[1][1]+=-1,o[2][0]+=0,o[2][1]+=0,o[3][0]+=-1,o[3][1]+=-1;break;case 3:t=4,o[0][0]+=0,o[0][1]+=-2,o[1][0]+=-1,o[1][1]+=-1,o[2][0]+=0,o[2][1]+=0,o[3][0]+=-1,o[3][1]+=1;break;case 4:t=1,o[0][0]+=-2,o[0][1]+=0,o[1][0]+=-1,o[1][1]+=1,o[2][0]+=0,o[2][1]+=0,o[3][0]+=1,o[3][1]+=1;break;default:console.log("there was a big problem")}else if("L"===a.state.currentPieceName)switch(e){case 1:t=2,o[0][0]+=-1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=-1,o[3][0]+=2,o[3][1]+=0;break;case 2:t=3,o[0][0]+=1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=-1,o[3][0]+=0,o[3][1]+=-2;break;case 3:t=4,o[0][0]+=1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=1,o[3][0]+=-2,o[3][1]+=0;break;case 4:t=1,o[0][0]+=-1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=1,o[3][0]+=0,o[3][1]+=2;break;default:console.log("there was a big problem")}else if("J"===a.state.currentPieceName)switch(e){case 1:t=2,o[0][0]+=-1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=-1,o[3][0]+=0,o[3][1]+=2;break;case 2:t=3,o[0][0]+=1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=-1,o[3][0]+=2,o[3][1]+=0;break;case 3:t=4,o[0][0]+=1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=1,o[3][0]+=0,o[3][1]+=-2;break;case 4:t=1,o[0][0]+=-1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=1,o[3][0]+=-2,o[3][1]+=0;break;default:console.log("there was a big problem")}else if("T"===a.state.currentPieceName)switch(e){case 1:t=2,o[0][0]+=-1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=-1,o[3][0]+=1,o[3][1]+=1;break;case 2:t=3,o[0][0]+=1,o[0][1]+=1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=-1,o[3][0]+=1,o[3][1]+=-1;break;case 3:t=4,o[0][0]+=1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=-1,o[2][1]+=1,o[3][0]+=-1,o[3][1]+=-1;break;case 4:t=1,o[0][0]+=-1,o[0][1]+=-1,o[1][0]+=0,o[1][1]+=0,o[2][0]+=1,o[2][1]+=1,o[3][0]+=-1,o[3][1]+=1;break;default:console.log("there was a big problem")}if(a.rotationAllowed(o)){for(var n=0;n<a.state.currentPiece.length;n++)r[a.state.currentPiece[n][0]][a.state.currentPiece[n][1]]="e";for(var s=0;s<o.length;s++)r[o[s][0]][o[s][1]]=a.state.currentColor+"m";a.setState({previousBoards:a.trackBoard(r),board:r,currentPiece:o,rotation:t})}},a.rotationAllowed=function(e){for(var t=!0,r=!0,o=0;o<e.length;o++)e[o][0]<0&&(t=!1),e[o][0]>17&&(t=!1),e[o][1]<0&&(t=!1),e[o][1]>9&&(t=!1);if(!t)return!1;for(var n=0;n<e.length;n++)"e"!==a.state.board[e[n][0]][[e[n][1]]]&&a.state.board[e[n][0]][[e[n][1]]]!==a.state.currentColor+"m"&&(r=!1);return t&&r},a.checkForFullRows=function(){for(var e,t=[],r=0;r<a.state.board.length;r++)a.state.board[r].includes("e")||t.push(r);t.length>0&&(e=a.state.gravitySpeed<60?60:a.state.gravitySpeed-10*t.length,a.setState({score:a.state.score+t.length*t.length,gravitySpeed:e}),a.colorFullRow(t))},a.colorFullRow=function(e){for(var t=a.state.board.map(function(e){return e.slice()}),r=0;r<e.length;r++)for(var o=0;o<10;o++)t[e[r]][o]="e";a.setState({previousBoards:a.trackBoard(t),board:t}),setTimeout(function(){a.shiftBlocksDown(e)},400)},a.shiftBlocksDown=function(e){for(var t=a.state.board.map(function(e){return e.slice()}),r=0;r<e.length;r++)for(var o=e[r];o>-1;o--)if(0===o)t[o]=["e","e","e","e","e","e","e","e","e","e"];else for(var n=0;n<10;n++)t[o-1][n].includes("m")||t[o][n].includes("m")||(t[o][n]=t[o-1][n]);a.setState({previousBoards:a.trackBoard(t),board:t})},a.submitCheck=function(){fetch("/states",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.setState({savedStates:e})}).then(function(){a.isHighestScore()?a.trimTo1000AndSubmit():a.isHighScore()?a.trimAndSubmit():(a.scoreState(),a.controlTimeWarp("start"))})},a.isHighestScore=function(){return a.state.score>=a.state.savedStates[0].score},a.isHighScore=function(){for(var e=!1,t=0;t<5;t++)a.state.score>=a.state.savedStates[t].score&&(e=!0);return e},a.trimAndSubmit=function(){a.setState({previousBoards:"deleted"},function(){a.submit()})},a.trimTo1000AndSubmit=function(){for(var e=[],t=0;t<800;t++)e.push(a.state.previousBoards[t]);a.setState({previousBoards:e},function(){a.submit()})},a.submit=function(){""!==a.state.name&&fetch("/",{method:"POST",body:JSON.stringify({name:a.state.name,score:a.state.score,board:a.state.board,previousBoards:a.state.previousBoards}),headers:{"Content-Type":"application/json"}}).then(function(){a.getScores()})},a.scoreState=function(){a.setState({showScores:!0})},a.getScores=function(){fetch("/states",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.setState({savedStates:e},function(){a.controlTimeWarp("start"),a.scoreState()})})},a.handleChange=function(e){a.setState({name:e.target.value})},a.trackBoard=function(e){var t=a.state.previousBoards.map(function(e){return e.slice()});return t.push(e),t},a.moveTimeWarpIndex=function(){var e=a.state.timeWarpIndex+1;e===a.state.savedStates[0].previousBoards.length?a.setState({timeWarpIndex:1}):a.setState({timeWarpIndex:e})},a.controlTimeWarp=function(e){var t;"start"===e?t=setInterval(a.moveTimeWarpIndex,140):"stop"===e&&clearInterval(t)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(j,{showScores:this.state.showScores,savedStates:this.state.savedStates,index:this.state.timeWarpIndex}),o.a.createElement(f,{id:"gameOver",showScores:this.state.showScores,score:this.state.score,gameOver:this.state.gameOver}),o.a.createElement(y,{gameOver:this.state.gameOver,showScores:this.state.showScores,handleClick:this.submitCheck,nameValue:this.state.name,handleChange:this.handleChange}),o.a.createElement(z,{state:this.state,makeRow:this.makeRow,stop:this.stop,start:this.start,endGame:this.submitCheck}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.2cb28a2d.chunk.js.map